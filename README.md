Sure! Here's a clear, simple, and well-structured README template for your **dbank** project, including prerequisites, setup instructions, how to run, and the webpack proxy fix you mentioned.

---

# DBank — Decentralized Bank on Internet Computer

## Overview

DBank is a simple decentralized bank application built on the Internet Computer (ICP) using Motoko.
It supports basic banking operations like topping up, withdrawing, checking balance, and compounding interest.

---

## Prerequisites

* **Node.js** (v16 or later recommended) — [Download here](https://nodejs.org/)
* **npm** (comes with Node.js)
* **DFX SDK** (Internet Computer SDK)
  Install using the command:

  ```bash
  sh -ci "$(curl -fsSL https://sdk.dfinity.org/install.sh)"
  ```
* **rsync** (for syncing declarations; usually available on macOS/Linux)
* **Git** (optional, for version control)

---

## Setup Instructions

1. **Clone the repository**

   ```bash
   git clone <https://github.com/roystondz/Defi-DApp-using-motoko.git>
   cd dbank
   ```

2. **Start the local Internet Computer replica**
   This runs the local ICP node in the background:

   ```bash
   dfx start --background
   ```

3. **Deploy canisters**
   This compiles your Motoko code, deploys it locally, and generates candid interfaces:

   ```bash
   dfx deploy
   ```

4. **Start the frontend development server**
   This serves your frontend at `http://localhost:8080` and proxies API requests to the ICP replica:

   ```bash
   npm start
   ```

---

## Accessing the Application

* Open your browser at:

  ```
  http://localhost:8080
  ```
* Or directly use the Internet Computer local replica URL with canister IDs (example):

  ```
  http://127.0.0.1:8000/?canisterId=<your_asset_canister_id>
  ```

---

## Webpack Proxy Fix

To avoid CORS or 404 issues when your frontend tries to call backend API on the ICP replica, **update your `webpack.config.js` devServer config as follows:**

```js
const path = require("path");
const frontendDirectory = "src"; // adjust as needed

module.exports = {
  // ... other webpack config ...
  devServer: {
    proxy: [
      {
        context: ["/api"],
        target: "http://localhost:8000",
        changeOrigin: true,
        pathRewrite: { "^/api": "/api" },
      },
    ],
    hot: true,
    watchFiles: [path.resolve(__dirname, "src", frontendDirectory)],
    liveReload: true,
  },
};
```

---

For detailed information on using **Candid UI** and canister commands, please refer to the [Candid README](./candid/README.md).

---

## Notes on Frontend Environment Variables

* When running locally with `dfx start`, the frontend fetches the root key for certificate validation. This is safe for local development only.
* For production builds (if you deploy outside of DFX), make sure to:

  * Set `NODE_ENV=production`
  * Replace `process.env.NODE_ENV` in autogenerated declarations as needed
  * Or provide your own `createActor` constructor.

---

## Useful Commands Summary

| Command                  | Description                                     |
| ------------------------ | ----------------------------------------------- |
| `dfx start --background` | Start local ICP replica in background           |
| `dfx deploy`             | Deploy canisters and generate candid interfaces |
| `npm start`              | Start frontend dev server (with proxy)          |
| `dfx canister id <name>` | Get the canister ID for a deployed canister     |
| `dfx help`               | Show DFX CLI help                               |

---

## Documentation Links

* [Internet Computer Quick Start](https://smartcontracts.org/docs/)
* [Motoko Programming Language Guide](https://smartcontracts.org/docs/language-guide/motoko.html)
* [Motoko Language Quick Reference](https://smartcontracts.org/docs/language-guide/)
* [JavaScript Agent API Reference](https://smartcontracts.org/docs/js-agent/)
* [DFX CLI Reference](https://smartcontracts.org/docs/developers-guide/cli-reference.html)

---

